import{E as L,v as N,r as y,h as w,G as F,H as j,I as B,J as W,m as A,K as V,L as G,M as E,N as U,q,O as K}from"./entry.b800b8e9.js";function Z(e,r){let n,t,s;const o=y(!0),c=()=>{o.value=!0,s()};w(e,c,{flush:"sync"});const a=typeof r=="function"?r:r.get,m=typeof r=="function"?void 0:r.set,i=j((f,u)=>(t=f,s=u,{get(){return o.value&&(n=a(),o.value=!1),t(),n},set(l){m==null||m(l)}}));return Object.isExtensible(i)&&(i.trigger=c),i}function D(e){return B()?(W(e),!0):!1}const S=new WeakMap,Y=(e,r)=>{var n;const t=(n=A())==null?void 0:n.proxy;if(t==null)throw new Error("provideLocal must be called in setup");S.has(t)||S.set(t,Object.create(null));const s=S.get(t);s[e]=r,V(e,r)},H=(...e)=>{var r;const n=e[0],t=(r=A())==null?void 0:r.proxy;if(t==null)throw new Error("injectLocal must be called in setup");return S.has(t)&&n in S.get(t)?S.get(t)[n]:G(...e)};function R(e,r){const n=(r==null?void 0:r.injectionKey)||Symbol("InjectionState");return[(...o)=>{const c=e(...o);return Y(n,c),c},()=>H(n)]}function ee(e){let r=0,n,t;const s=()=>{r-=1,t&&r<=0&&(t.stop(),n=void 0,t=void 0)};return(...o)=>(r+=1,n||(t=L(!0),n=t.run(()=>e(...o))),D(s),n)}function p(e){return typeof e=="function"?e():N(e)}const J=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $=Object.prototype.toString,te=e=>$.call(e)==="[object Object]",z=()=>+Date.now(),O=()=>{};function Q(e,r){function n(...t){return new Promise((s,o)=>{Promise.resolve(e(()=>r.apply(this,t),{fn:r,thisArg:this,args:t})).then(s).catch(o)})}return n}const _=e=>e();function ne(e,r={}){let n,t,s=O;const o=a=>{clearTimeout(a),s(),s=O};return a=>{const m=p(e),i=p(r.maxWait);return n&&o(n),m<=0||i!==void 0&&i<=0?(t&&(o(t),t=null),Promise.resolve(a())):new Promise((f,u)=>{s=r.rejectOnCancel?u:f,i&&!t&&(t=setTimeout(()=>{n&&o(n),t=null,f(a())},i)),n=setTimeout(()=>{t&&o(t),t=null,f(a())},m)})}}function re(e,r=!0,n=!0,t=!1){let s=0,o,c=!0,a=O,m;const i=()=>{o&&(clearTimeout(o),o=void 0,a(),a=O)};return u=>{const l=p(e),d=Date.now()-s,v=()=>m=u();return i(),l<=0?(s=Date.now(),v()):(d>l&&(n||!c)?(s=Date.now(),v()):r&&(m=new Promise((g,h)=>{a=t?h:g,o=setTimeout(()=>{s=Date.now(),c=!0,g(v()),i()},Math.max(0,l-d))})),!n&&!o&&(o=setTimeout(()=>c=!0,l)),c=!1,m)}}function ue(e=_){const r=y(!0);function n(){r.value=!1}function t(){r.value=!0}const s=(...o)=>{r.value&&e(...o)};return{isActive:F(r),pause:n,resume:t,eventFilter:s}}function M(e,r=!1,n="Timeout"){return new Promise((t,s)=>{setTimeout(r?()=>s(n):t,e)})}function se(e,r={}){if(!E(e))return U(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const t in e.value)n[t]=j(()=>({get(){return e.value[t]},set(s){var o;if((o=p(r.replaceRef))!=null?o:!0)if(Array.isArray(e.value)){const a=[...e.value];a[t]=s,e.value=a}else{const a={...e.value,[t]:s};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[t]=s}}));return n}function oe(e,r=!0){A()?q(e):r?e():K(e)}function x(e,r=!1){function n(u,{flush:l="sync",deep:d=!1,timeout:v,throwOnTimeout:g}={}){let h=null;const I=[new Promise(b=>{h=w(e,P=>{u(P)!==r&&(h==null||h(),b(P))},{flush:l,deep:d,immediate:!0})})];return v!=null&&I.push(M(v,g).then(()=>p(e)).finally(()=>h==null?void 0:h())),Promise.race(I)}function t(u,l){if(!E(u))return n(P=>P===u,l);const{flush:d="sync",deep:v=!1,timeout:g,throwOnTimeout:h}=l??{};let T=null;const b=[new Promise(P=>{T=w([e,u],([C,k])=>{r!==(C===k)&&(T==null||T(),P(C))},{flush:d,deep:v,immediate:!0})})];return g!=null&&b.push(M(g,h).then(()=>p(e)).finally(()=>(T==null||T(),p(e)))),Promise.race(b)}function s(u){return n(l=>!!l,u)}function o(u){return t(null,u)}function c(u){return t(void 0,u)}function a(u){return n(Number.isNaN,u)}function m(u,l){return n(d=>{const v=Array.from(d);return v.includes(u)||v.includes(p(u))},l)}function i(u){return f(1,u)}function f(u=1,l){let d=-1;return n(()=>(d+=1,d>=u),l)}return Array.isArray(p(e))?{toMatch:n,toContains:m,changed:i,changedTimes:f,get not(){return x(e,!r)}}:{toMatch:n,toBe:t,toBeTruthy:s,toBeNull:o,toBeNaN:a,toBeUndefined:c,changed:i,changedTimes:f,get not(){return x(e,!r)}}}function ae(e){return x(e)}function ie(e=0,r={}){let n=N(e);const t=y(e),{max:s=Number.POSITIVE_INFINITY,min:o=Number.NEGATIVE_INFINITY}=r,c=(u=1)=>t.value=Math.min(s,t.value+u),a=(u=1)=>t.value=Math.max(o,t.value-u),m=()=>t.value,i=u=>t.value=Math.max(o,Math.min(s,u));return{count:t,inc:c,dec:a,get:m,set:i,reset:(u=n)=>(n=u,i(u))}}function le(e,r={}){var n;const t=y((n=r.initialValue)!=null?n:null);return w(e,()=>t.value=z(),r),t}function ce(e,r,n={}){const{immediate:t=!0}=n,s=y(!1);let o=null;function c(){o&&(clearTimeout(o),o=null)}function a(){s.value=!1,c()}function m(...i){c(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,e(...i)},p(r))}return t&&(s.value=!0,J&&m()),D(a),{isPending:F(s),start:m,stop:a}}function fe(e,r,n={}){const{eventFilter:t=_,...s}=n,o=Q(t,r);let c,a,m;if(s.flush==="sync"){const i=y(!1);a=()=>{},c=f=>{i.value=!0,f(),i.value=!1},m=w(e,(...f)=>{i.value||o(...f)},s)}else{const i=[],f=y(0),u=y(0);a=()=>{f.value=u.value},i.push(w(e,()=>{u.value++},{...s,flush:"sync"})),c=l=>{const d=u.value;l(),f.value+=u.value-d},i.push(w(e,(...l)=>{const d=f.value>0&&f.value===u.value;f.value=0,u.value=0,!d&&o(...l)},s)),m=()=>{i.forEach(l=>l())}}return{stop:m,ignoreUpdates:c,ignorePrevAsyncUpdates:a}}export{le as a,ce as b,ee as c,R as d,Z as e,ne as f,p as g,se as h,J as i,oe as j,te as k,ae as l,z as m,O as n,ue as o,M as p,re as q,D as t,ie as u,fe as w};
