import{e as j,t as Y,f as J,g as R,i as N,h as $,j as q,n as W,k as z,p as Q,l as Z,m as G,o as K,w as ee,q as te}from"./index.2b6e8cd0.js";import{C,r as w,h as k,u as H,f as ne,D as oe,v as ae,m as re,q as ue}from"./entry.b800b8e9.js";function B(e){var n;const o=R(e);return(n=o==null?void 0:o.$el)!=null?n:o}const O=N?window:void 0,se=N?window.document:void 0;function T(...e){let n,o,c,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,c,u]=e,n=O):[n,o,c,u]=e,!n)return W;Array.isArray(o)||(o=[o]),Array.isArray(c)||(c=[c]);const s=[],r=()=>{s.forEach(i=>i()),s.length=0},l=(i,f,p,h)=>(i.addEventListener(f,p,h),()=>i.removeEventListener(f,p,h)),t=k(()=>[B(n),R(u)],([i,f])=>{if(r(),!i)return;const p=z(f)?{...f}:f;s.push(...o.flatMap(h=>c.map(M=>l(i,h,M,p))))},{immediate:!0,flush:"post"}),a=()=>{t(),r()};return Y(a),a}function ye(e={}){var n;const{window:o=O,deep:c=!0}=e,u=(n=e.document)!=null?n:o==null?void 0:o.document,s=()=>{var l;let t=u==null?void 0:u.activeElement;if(c)for(;t!=null&&t.shadowRoot;)t=(l=t==null?void 0:t.shadowRoot)==null?void 0:l.activeElement;return t},r=j(()=>null,()=>s());return o&&(T(o,"blur",l=>{l.relatedTarget===null&&r.trigger()},!0),T(o,"focus",r.trigger,!0)),r}function ie(){const e=w(!1);return re()&&ue(()=>{e.value=!0}),e}function P(e){const n=ie();return H(()=>(n.value,!!e()))}function ge(e,n,o){const{immediate:c=!0,delay:u=0,onError:s=W,onSuccess:r=W,resetOnExecute:l=!0,shallow:t=!0,throwError:a}=o??{},i=t?C(n):w(n),f=w(!1),p=w(!1),h=C(void 0);async function M(y=0,...b){l&&(i.value=n),h.value=void 0,f.value=!1,p.value=!0,y>0&&await Q(y);const g=typeof e=="function"?e(...b):e;try{const E=await g;i.value=E,f.value=!0,r(E)}catch(E){if(h.value=E,s(E),a)throw E}finally{p.value=!1}return i.value}c&&M(u);const S={state:i,isReady:f,isLoading:p,error:h,execute:M};function m(){return new Promise((y,b)=>{Z(p).toBe(!1).then(()=>y(S)).catch(b)})}return{...S,then(y,b){return m().then(y,b)}}}function le(e,n={}){const{window:o=O}=n,c=P(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let u;const s=w(!1),r=a=>{s.value=a.matches},l=()=>{u&&("removeEventListener"in u?u.removeEventListener("change",r):u.removeListener(r))},t=ne(()=>{c.value&&(l(),u=o.matchMedia(R(e)),"addEventListener"in u?u.addEventListener("change",r):u.addListener(r),s.value=u.matches)});return Y(()=>{t(),l(),u=void 0}),s}function V(e){return JSON.parse(JSON.stringify(e))}function we(e,n,o={}){const{window:c=O,...u}=o;let s;const r=P(()=>c&&"MutationObserver"in c),l=()=>{s&&(s.disconnect(),s=void 0)},t=k(()=>B(e),f=>{l(),r.value&&c&&f&&(s=new MutationObserver(n),s.observe(f,u))},{immediate:!0}),a=()=>s==null?void 0:s.takeRecords(),i=()=>{l(),t()};return Y(i),{isSupported:r,stop:i,takeRecords:a}}function X(e){return e}function ce(e,n){return e.value=n}function fe(e){return e?typeof e=="function"?e:V:X}function ve(e){return e?typeof e=="function"?e:V:X}function de(e,n={}){const{clone:o=!1,dump:c=fe(o),parse:u=ve(o),setSource:s=ce}=n;function r(){return oe({snapshot:c(e.value),timestamp:G()})}const l=w(r()),t=w([]),a=w([]),i=g=>{s(e,u(g.snapshot)),l.value=g},f=()=>{t.value.unshift(l.value),l.value=r(),n.capacity&&t.value.length>n.capacity&&t.value.splice(n.capacity,Number.POSITIVE_INFINITY),a.value.length&&a.value.splice(0,a.value.length)},p=()=>{t.value.splice(0,t.value.length),a.value.splice(0,a.value.length)},h=()=>{const g=t.value.shift();g&&(a.value.unshift(l.value),i(g))},M=()=>{const g=a.value.shift();g&&(t.value.unshift(l.value),i(g))},S=()=>{i(l.value)},m=H(()=>[l.value,...t.value]),y=H(()=>t.value.length>0),b=H(()=>a.value.length>0);return{source:e,undoStack:t,redoStack:a,last:l,history:m,canUndo:y,canRedo:b,clear:p,commit:f,reset:S,undo:h,redo:M}}function U(e,n={}){const{deep:o=!1,flush:c="pre",eventFilter:u}=n,{eventFilter:s,pause:r,resume:l,isActive:t}=K(u),{ignoreUpdates:a,ignorePrevAsyncUpdates:i,stop:f}=ee(e,m,{deep:o,flush:c,eventFilter:s});function p(E,v){i(),a(()=>{E.value=v})}const h=de(e,{...n,clone:n.clone||o,setSource:p}),{clear:M,commit:S}=h;function m(){i(),S()}function y(E){l(),E&&m()}function b(E){let v=!1;const D=()=>v=!0;a(()=>{E(D)}),v||m()}function g(){f(),M()}return{...h,isTracking:t,pause:r,resume:y,commit:m,batch:b,dispose:g}}function Ee(e,n={}){const o=n.debounce?J(n.debounce):void 0;return{...U(e,{...n,eventFilter:o})}}function be(e={}){const{document:n=se}=e;if(!n)return w("visible");const o=w(n.visibilityState);return T(n,"visibilitychange",()=>{o.value=n.visibilityState}),o}function Te(e,n={}){var o,c;const{pointerTypes:u,preventDefault:s,stopPropagation:r,exact:l,onMove:t,onEnd:a,onStart:i,initialValue:f,axis:p="both",draggingElement:h=O,containerElement:M,handle:S=e}=n,m=w((o=R(f))!=null?o:{x:0,y:0}),y=w(),b=d=>u?u.includes(d.pointerType):!0,g=d=>{R(s)&&d.preventDefault(),R(r)&&d.stopPropagation()},E=d=>{var F;if(!b(d)||R(l)&&d.target!==R(e))return;const x=R(M),A=(F=x==null?void 0:x.getBoundingClientRect)==null?void 0:F.call(x),_=R(e).getBoundingClientRect(),I={x:d.clientX-(x?_.left-A.left:_.left),y:d.clientY-(x?_.top-A.top:_.top)};(i==null?void 0:i(I,d))!==!1&&(y.value=I,g(d))},v=d=>{var F;if(!b(d)||!y.value)return;const x=R(M),A=(F=x==null?void 0:x.getBoundingClientRect)==null?void 0:F.call(x),_=R(e).getBoundingClientRect();let{x:I,y:L}=m.value;(p==="x"||p==="both")&&(I=d.clientX-y.value.x,x&&(I=Math.min(Math.max(0,I),A.width-_.width))),(p==="y"||p==="both")&&(L=d.clientY-y.value.y,x&&(L=Math.min(Math.max(0,L),A.height-_.height))),m.value={x:I,y:L},t==null||t(m.value,d),g(d)},D=d=>{b(d)&&y.value&&(y.value=void 0,a==null||a(m.value,d),g(d))};if(N){const d={capture:(c=n.capture)!=null?c:!0};T(S,"pointerdown",E,d),T(h,"pointermove",v,d),T(h,"pointerup",D,d)}return{...$(m),position:m,isDragging:H(()=>!!y.value),style:H(()=>`left:${m.value.x}px;top:${m.value.y}px;`)}}function Me(e,n={}){const o=w(!1),c=C(null);let u=0,s=!0;if(N){const r=typeof n=="function"?{onDrop:n}:n,l=t=>{var a,i;const f=Array.from((i=(a=t.dataTransfer)==null?void 0:a.files)!=null?i:[]);return c.value=f.length===0?null:f};T(e,"dragenter",t=>{var a;if(r.dataTypes&&t.dataTransfer){const i=ae(r.dataTypes);if(s=typeof i=="function"?i(t.dataTransfer.types):i?i.some(f=>t.dataTransfer.types.includes(f)):!0,!s)return}t.preventDefault(),u+=1,o.value=!0,(a=r.onEnter)==null||a.call(r,l(t),t)}),T(e,"dragover",t=>{var a;s&&(t.preventDefault(),(a=r.onOver)==null||a.call(r,l(t),t))}),T(e,"dragleave",t=>{var a;s&&(t.preventDefault(),u-=1,u===0&&(o.value=!1),(a=r.onLeave)==null||a.call(r,l(t),t))}),T(e,"drop",t=>{var a;t.preventDefault(),u=0,o.value=!1,(a=r.onDrop)==null||a.call(r,l(t),t)})}return{files:c,isOverDropZone:o}}const pe={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function Re(e={}){const{type:n="page",touch:o=!0,resetOnTouchEnds:c=!1,initialValue:u={x:0,y:0},window:s=O,target:r=s,scroll:l=!0,eventFilter:t}=e;let a=null;const i=w(u.x),f=w(u.y),p=w(null),h=typeof n=="function"?n:pe[n],M=v=>{const D=h(v);a=v,D&&([i.value,f.value]=D,p.value="mouse")},S=v=>{if(v.touches.length>0){const D=h(v.touches[0]);D&&([i.value,f.value]=D,p.value="touch")}},m=()=>{if(!a||!s)return;const v=h(a);a instanceof MouseEvent&&v&&(i.value=v[0]+s.scrollX,f.value=v[1]+s.scrollY)},y=()=>{i.value=u.x,f.value=u.y},b=t?v=>t(()=>M(v),{}):v=>M(v),g=t?v=>t(()=>S(v),{}):v=>S(v),E=t?()=>t(()=>m(),{}):()=>m();if(r){const v={passive:!0};T(r,["mousemove","dragover"],b,v),o&&n!=="movement"&&(T(r,["touchstart","touchmove"],g,v),c&&T(r,"touchend",y,v)),l&&n==="page"&&T(s,"scroll",E,{passive:!0})}return{x:i,y:f,sourceType:p}}function Se(e,n={}){const{throttle:o=200,trailing:c=!0}=n,u=te(o,c);return{...U(e,{...n,eventFilter:u})}}function xe(e={}){const{window:n=O,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:c=Number.POSITIVE_INFINITY,listenOrientation:u=!0,includeScrollbar:s=!0}=e,r=w(o),l=w(c),t=()=>{n&&(s?(r.value=n.innerWidth,l.value=n.innerHeight):(r.value=n.document.documentElement.clientWidth,l.value=n.document.documentElement.clientHeight))};if(t(),q(t),T("resize",t,{passive:!0}),u){const a=le("(orientation: portrait)");k(a,()=>t())}return{width:r,height:l}}export{Se as a,Ee as b,be as c,ye as d,Re as e,xe as f,ge as g,Te as h,Me as i,we as j,de as u};
